# To use this topology, the libvirt modules must be installed.
# Here's how (using Fedora 25 x86_65 installation):
#
# $ virtualenv venv
# $ source venv/bin/activate
# (venv) $ pip install linchpin
# .. snip ..
# (venv) $ pip install linchpin[libvirt]
# .. snip ..
# (venv) $ sudo dnf install libselinux-python
# .. snip ..
# (venv) $ sudo ln -s /usr/lib64/python2.7/site-packages/_selinux.so venv/lib/python2.7/site-packages/_selinux.so
# (venv) $ sudo ln -s /usr/lib64/python2.7/site-packages/selinux venv/lib/python2.7/site-packages/
# .. verify links are correct ..
#
# (venv) $ linchpin up
# .. snip ..
#
# YMMV

---
topology_name: cinch
resource_groups:
  - resource_group_name: cinch-group
    res_group_type: beaker
#   job_group: ci-ops-multiarch-qe-aos
    whiteboard: linchpin->beaker helloworld
    recipesets:
      - distro: "RHEL-7.3"
        arch: x86_64
        variant: Server
        priority: Urgent
        keyvalue:
          - MEMORY>1000
          - DISKSPACE>20000
        hostrequires:
          - tag: hostname
            op: like
            value: "%.eng.bos.redhat.com"
        repos:
          repo: {_name: "rhcert", _url: "http://hwcert-server.khw.lab.eng.bos.redhat.com/packages/devel/RHEL7"}
        count: 1
